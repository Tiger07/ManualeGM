<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<title>Room</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body background="images/back.gif">
<!--START-->

<h3>Room</h3>

I giochi si svolgono nelle room. Ogni room ha un indice, cioè il nome della room stessa.
La roo, corrente è salvata nella variabile chiamata room. Non puoi presumere che le room
siano numerate in sequenza. Quindi non eseguire MAI addizioni o sottrazioni sulla
variabile room. Usa invece le funzioni indicate in basso. Un tipico codice che userai
potrebbe essere:

<p>
<blockquote>
<pre>
{
  <b>if</b> (room != room_last)
  {
    room_goto_next();
  }
  <b>else</b>
  {
    game_end();
  }
}
</pre>
</blockquote>

<p>
Esistono le seguenti variabili e funzioni per lavorara con le room.

<p>
<blockquote>
  <tt><b>room</b></tt>
    L'indice della room corrente; può essere cambiato per andare in una
        room  diversa, ma farai meglio a usare le funzioni in basso.<br>
  <tt><b>room_first*</b></tt>
    L'indice della prima room del gioco.<br>
  <tt><b>room_last*</b></tt>
    L'indice dell'ultima room del gioco.<br>
  <tt><b>room_goto(numb)</b></tt>
    Va alla room con l'indice dato.<br>
  <tt><b>room_goto_previous()</b></tt>
    Va alla room precedente.<br>
  <tt><b>room_goto_next()</b></tt>
    Va alla room successiva.<br>
  <tt><b>room_restart()</b></tt>
    Riavvia la room corrente.<br>
  <tt><b>room_previous(numb)</b></tt>
    Restituisce l'indice della room che viene prima di quella indicata (-1 = non ce n'è nessuna) senza andarci.<br>
  <tt><b>room_next(numb)</b></tt>
    Restituisce l'indice della room che viene dopo quella indicata (-1 = non ce n'è nessuna) senza andarci.<br>
  <tt><b>game_end()</b></tt>
    Termina il gioco.<br>
  <tt><b>game_restart()</b></tt>
    Riavvia il gioco.<br>
</blockquote>

<p>
Quando chiamo una di queste funzioni per cambiare room o riavviare o terminare il gioco, devi capire che no
succede in quel preciso momento. Avviene solo quando l'azione corrente è stata completamente eseguita.
Quindi il resto dello script verrà comunque eseguito, e vale lo stesso per eventuali script chiamati.
Tuttavia, non verranno eseguiti altri eventi. Poiché ciò può portare a errori inaspettati, sei fortemente
raccomandato di non mettere altro codice dopo una di queste funzioni.

<p>
Le room hanno delle proprietà aggiuntive:

<p>
<blockquote>
  <tt><b>room_width*</b></tt>
    La larghezza della room (orizzontale) in pixel.<br>
  <tt><b>room_height*</b></tt>
    L'altezza della room (verticale) in pixel<br>
  <tt><b>room_caption</b></tt>
    La stringa che viene usata come didascalia della room, è mostrata al posto del nome della finestra.<br>
  <tt><b>room_persistent</b></tt>
    Un booleano che indica se la room è persistente.<br>
</blockquote>

<p>
Molti giochi offrono al giocatore la possibilità di salvare e caricare partite. In <i>GameMaker</i>
Questo avviene automaticamente quando il giocatore preme &lt;F5&gt; per salvare e &lt;F6&gt; per
caricare. Puoi anche salvare e caricare partite dal codice (ma nota che avviene solo alla fine
dello step corrente).

<p>
<blockquote>
  <tt><b>game_save(string)</b></tt>
    Salva la partita nel file con nome string.<br>
  <tt><b>game_load(string)</b></tt>
    Carica la partita dal file con nome string.<br>
</blockquote>

<p>
Fa' attenzione perché solo i dati di base vengono salvati. Ad esempio, se fai partire una musica,
non verrà salvata la precisa posizione della musica. Anche le risorse modificate non vengono
salvate. Altri elementi che non vengono salvati sono le strutture dati, particelle, e impostazioni
multiplayer.

<h2>Transitions</h2>

<p>
When you move from one room to another you can select a transition. 
To set the transition to the next frame you must set the 
variable called <tt>transition_kind</tt>. If you assign a value larger than 0 to it the 
corresponding transition is used for the next room transition. It only affect the next
transition. After this the value is reset to 0, which indicates no transition.

<p>
<blockquote>
  <tt><b>transition_kind</b></tt> 
    Indicates the next room transition. You can use the following builtin values
	<p>
    <blockquote>
	  0 = no effect<br>
	  1 = Create from left<br>
	  2 = Create from right<br>
	  3 = Create from top<br>
	  4 = Create from bottom<br>
	  5 = Create from center<br>
	  6 = Shift from left<br>
	  7 = Shift from right<br>
	  8 = Shift from top<br>
	  9 = Shift from bottom<br>
	 10 = Interlaced from left<br>
	 11 = Interlaced from right<br>
	 12 = Interlaced from top<br>
	 13 = Interlaced from bottom<br>
	 14 = Push from left<br>
	 15 = Push from right<br>
	 16 = Push from top<br>
	 17 = Push from bottom<br>
	 18 = Rotate to the left<br>
	 19 = Rotate to the right<br>
	 20 = Blend the rooms<br>
	 21 = Fade out and in<br>
	</blockquote>
  <tt><b>transition_steps</b></tt> 
    Indicates the number of steps in the transition. The more steps, the longer the
	transition takes. Default is 80.<br>
  <tt><b>transition_define(kind,name)</b></tt> 
    You can actually create your own transitions. To this end you must define a script
	(possibly in an extension package) to do the transition. With this function you can 
	then add the transition to the system. <tt>kind</tt> is 
	the index of the transition (either a new one or an existing transitions). <tt>name</tt> is the
	name of the script. Note that the name of the script is a string! 
	So there must be quotes around it.
	Note that this is really advanced stuff. 
	The script must take five arguments: a surface with the image
	of the previous room, a surface with the image of the next room, the width of the
	surfaces, the height of the surfaces, and the fraction
	of the transition (between 0 and 1). It must then draw the image using the two
	surfaces. <br>
  <tt><b>transition_exists(kind)</b></tt> 
    This function returns whether a transition of the indicated kind exists.
</blockquote>

<p>
Please note that transitions do not work when using 3d graphics. Also, room transitions in general
do not work correctly when the sizes of the rooms (or to be more precise of the region on the screen) 
are not the same.


<!--END-->
</body>
</html>

<!-- KEYWORDS
room variables
saving games
loading games

room
room_first
room_last
room_width
room_height
room_caption
room_persistent
room_goto()
room_goto_previous()
room_goto_next()
room_previous()
room_next()
room_restart()
game_end()
game_restart()
game_load()
game_save()

transitions
room transitions
transition_kind
transition_color
transition_steps
transition_define()
transition_exists() 

--> 
