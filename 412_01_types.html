<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html>
<head>
<title>Particle types</title>
<link href="style.css" rel="stylesheet" type="text/css">
</head>
<body background="images/back.gif">
<!--START-->


<h3>Tipi di particelle</h3>

Un tipo di particella descrive la forma, colore, movimento, ecc. di un particolare genere di particella.
È necessario definire un tipo di particella solo una volta nel gioco. Dopo aver fatto questo lo 
si può usare in qualunque sistema particellare nel gioco. I tipi di particelle hanno un gran numero 
di parametri che possono essere usati per modificare tutti gli aspetti. Con il settaggio di questi è 
possibile creare praticamente qualsiasi effetto desiderato.

<p>
Un certo numero di procedure sono disponibili per creare o distruggere nuovi tipi di particelle:

<p>
<blockquote>
  <tt><b>part_type_create()</b></tt> 
    Crea un nuovo tipo di particella. Restituisce l'indice del tipo. 
    Questo indice deve essere usato in tutte le chiamate sottostanti per 
    impostare le proprietà del tipo di particella. Solitamente lo si salva in una variabile globale.<br>
  <tt><b>part_type_destroy(ind)</b></tt> 
    Distrugge il tipo di particella ind. Usa questa funzione se il tipo non serve più per risparmiare spazio.<br>
  <tt><b>part_type_exists(ind)</b></tt> 
    Restituisce un valore se il tipo di particella indicato esiste.<br>
  <tt><b>part_type_clear(ind)</b></tt> 
    Cancella il tipo di particella ind e lo riporta alle impostazioni predefinite.<br>
</blockquote>


<h3>La forma di una particella</h3>

Una particella ha una forma. Questa forma è indicata da uno sprite. È possibile utilizzare qualsiasi 
sprite che si vuole per le particelle, ma ci sono 15 sprite già precostruti. Questi sono tutti di 
dimensioni 64x64 e hanno valori di trasparenza preimpostati in modo che ben si fondono con lo sfondo. 
Essi sono indicati dalle seguenti costanti:

  <ul>
    <li><tt>pt_shape_pixel</tt></li>
    <li><tt>pt_shape_disk</tt></li>
    <li><tt>pt_shape_square</tt></li>
    <li><tt>pt_shape_line</tt></li>
    <li><tt>pt_shape_star</tt></li>
    <li><tt>pt_shape_circle</tt></li>
    <li><tt>pt_shape_ring</tt></li>
    <li><tt>pt_shape_sphere</tt></li>
    <li><tt>pt_shape_flare</tt></li>
    <li><tt>pt_shape_spark</tt></li>
    <li><tt>pt_shape_explosion</tt></li>
    <li><tt>pt_shape_cloud</tt></li>
    <li><tt>pt_shape_smoke</tt></li>
    <li><tt>pt_shape_snow</tt></li>
  </ul>

<p>
È possibile impostare la forma con la seguente funzione:

<p>
<blockquote>
  <tt><b>part_type_shape(ind,shape)</b></tt> 
    Imposta la forma di un tipo di particella ad una delle precedenti costanti (di default è pt_shape_pixel).<br>
</blockquote>

<p>
È inoltre possibile utilizzare un vostro sprite per la particella. Se lo sprite ha più sotto-immagini, è 
possibile indicare la sotto-immagine che si vuole usare. È anche possibile sceglierne una a caso, animare 
lo sprite, cominciare dall'inizio dell'animazione o in un posto a caso, ecc.
È possibile utilizzare la seguente funzione per questo:
 
<p>
<blockquote>
  <tt><b>part_type_sprite(ind,sprite,animat,stretch,random)</b></tt> 
    Imposta il tuo sprite per il tipo di particella. Con il parametro animate si indica se lo sprite 
    deve essere animato (1) o no (0). Con stretch (1 o 0) si indica se prolungare o meno l’animazione
    dello sprite per tutta la durata della particella. E con random (1 o 0) è possibile indicare se
    una casuale sotto-immagine deve essere scelta come immagine iniziale.<br>
</blockquote>

<p>
Una volta che avete scelto lo sprite per il tipo di particella (o una forma di default o il proprio sprite) 
è possibile indicare le dimensioni di esso. Una dimensione di valore 1 indica la dimensione normale dello 
sprite. Un tipo di particella può essere definito in modo tale che le particelle o hanno tutte la stessa 
dimensione o hanno dimensioni diverse. È possibile indicare un intervallo di dimensioni ed anche se la 
dimensione deve cambiare nel corso della vita di una particella. È anche possibile cambiare ad intervalli 
di tempo la dimensione, creando un effetto lampeggiante. 
 
<p>
<blockquote>
  <tt><b>part_type_size(ind,size_min,size_max,size_incr,size_wiggle)</b></tt> 
    Imposta i parametri dimensionali per il tipo di particella. È possibile specificare la dimensione minima 
    di partenza, la dimensione massima di partenza, l'aumento di dimensione in ogni passaggio 
    (usando un numero negativo per una diminuzione della dimensione) e il valore di “wiggling”. 
    (La dimensione di default è 1 e la dimensione di default non cambia).<br>
  <tt><b>part_type_scale(ind,xscale,yscale)</b></tt> 
    Imposta il valore di scala orizzontale e verticale. Questo fattore viene moltiplicato per la dimensione. 
    È utile in particolare quando è necessario scalare in modo diverso le direzioni x e y.<br>
</blockquote>

<p>
Le particelle hanno anche un orientamento. L'orientamento può lo stesso per tutte le particelle, può 
essere diverso, e può cambiare nel corso della vita dello sprite. Gli angoli specificano il verso 
di rotazione antiorario, in gradi.

<p>
<blockquote>
  <tt><b>part_type_orientation(ind,ang_min,ang_max,ang_incr,ang_wiggle,ang_relative)</b></tt> 
    Imposta le proprietà degli angoli di orientamento per il tipo di particella. È possibile 
    specificare l'angolo minimo, l’angolo massimo, l’incremento ad ogni passo e la quantità di “wiggling”. 
    (Di default tutti i valori sono). È anche possibile indicare se l’angolo dato è relativo (1) 
    alla direzione corrente di movimento oppure assoluto (0). Ad esempio, impostando tutti i valori 
    a 0, ma ang_relative a 1, l'orientamento delle particelle seguirà precisamente il percorso della particella. <br>
</blockquote>


<h3>Color and blending</h3>

Particles will have a color. There are different ways in which you can specify colors for
a particle. The simplest way is to indicate a single color. You can also specify two or three
colors between which the color of the particle is interpolated during its life time. For example,
the particle can start white and become more and more black over its lifetime. Another possibility
is that you indicate that the color of each particle must be different, picked from a range of colors.
You can either give a range in red, green and blue, or a range in hue, saturation, and value.

<p>
Default the color is white. When you use a sprite with its own colors, this is normally what you
want and no color needs to be specified. 

<p>
<blockquote>
  <tt><b>part_type_color1(ind,color1)</b></tt> 
    Indicates a single color to be used for the particle.<br>
  <tt><b>part_type_color2(ind,color1,color2)</b></tt> 
    Specifies two colors between which the color is interpolated.<br>
  <tt><b>part_type_color3(ind,color1,color2,color3)</b></tt> 
    Similar but this time the color is interpolated between three colors that represent
	the color at the start, half-way, and at the end.<br>
  <tt><b>part_type_color_mix(ind,color1,color2)</b></tt> 
    With this function you indicate that the particle should get a color that is a random mixture
	of the two indicated colors. This color will remain fixed over the lifetime of the particle.<br>
  <tt><b>part_type_color_rgb(ind,rmin,rmax,gmin,gmax,bmin,bmax)</b></tt> 
    Can be used to indicate that each particle must have a fixed color but choosen from a range.
	You specify a range in the red, green, and blue component of the color (each between 0 and 255).<br>
  <tt><b>part_type_color_hsv(ind,hmin,hmax,smin,smax,vmin,vmax)</b></tt> 
    Can be used to indicate that each particle must have a fixed color but choosen from a range.
	You specify a range in the hue saturation and value component of the color (each between 0 and 255).<br>
</blockquote>
	
<p>
Besides the color you can also give an alpha transparency value. The built-in particle shapes already
have some alpha transparency but you can use these settings to e.g. make the particle vanish over its
life time.

<p>
<blockquote>
  <tt><b>part_type_alpha1(ind,alpha1)</b></tt> 
    Sets a single alpha transparency parameter (0-1) for the particle type.<br>
  <tt><b>part_type_alpha2(ind,alpha1,alpha2)</b></tt> 
    Similar but this time a start and end value are given and the alpha value is interpolated between them.<br>
  <tt><b>part_type_alpha3(ind,alpha1,alpha2,alpha3)</b></tt> 
    This time three values are given between which the alpha transparency is interpolated.<br>
</blockquote>
	
<p>
Normally particles are blended with the background in the same way as sprites. But it is also possible
to use additive blending. This gives in particular a great effect for explosion. 

<p>
<blockquote>
  <tt><b>part_type_blend(ind,additive)</b></tt> 
    Sets whether to use additive blending (1) or normal blending (0) for the particle type.<br>
</blockquote>


<h3>Life and death</h3>

Particles live for a limited amount of time, their lifetime. After this they disappear. Lifetime is
measured in steps. You can indicate the lifetime (or a range of lifetimes) for each particle type. 
Particles can create new particles of different types. There are two ways for this. They can create new particles in 
each step or they can create particles when they die. Be careful that the total number of 
particles does not get too high.

<p>
<blockquote>
  <tt><b>part_type_life(ind,life_min,life_max)</b></tt> 
    Sets the lifetime bounds for the particle type. (Default both are 100.)<br>
  <tt><b>part_type_step(ind,step_number,step_type)</b></tt> 
    Sets the number and type of particles that must be generated in each 
	step for the indicated particle type. If you use a negative value,
	in each step a particle is generated with a chance -1/number. 
	So for example with a value of -5 a particle is generated on average once every 5 steps.<br>
  <tt><b>part_type_death(ind,death_number,death_type)</b></tt> 
    Sets the number and type of particles that must be generated when a particle of the 
	indicated type dies. Again you can use negative numbers to create a particle with
	a particular chance. Note that these particles are only created when the particle dies 
	at the end of its life, not when it dies because of a destroyer (see below).<br>
</blockquote>


<h3>Particle motion</h3>

Particles can move during their lifetime. They can get an initial speed (or range of speeds)
and direction, and the speed and direction can change over time. Also gravity can be defined
that pulls the particles in a particular direction. The following functions exist for this:

<p>
<blockquote>
  <tt><b>part_type_speed(ind,speed_min,speed_max,speed_incr,speed_wiggle)</b></tt> 
    Sets the speed properties for the particle type. (Default all values are 0.)
	You specify a minimal and maximal speed. A random value between the given bounds
	is chosen when the particle is created. You can indicate a speed increase in
	each step Use a negative number to slow the particle down (the speed will never 
	become smaller than 0). Finally you can indicate some amount of wiggling of the speed.<br>
  <tt><b>part_type_direction(ind,dir_min,dir_max,dir_incr,dir_wiggle)</b></tt> 
    Sets the direction properties for the particle type. (Default all values are 0.)
	Again you specify a range of directions (in counterclockwise degrees; 
	0 indicated a motion to the right). For example, to let the particle move 
	 in a random direction choose 0 and 360 as values. You can specify an increase
	 in direction for each step, and an amount of wiggling.<br>
  <tt><b>part_type_gravity(ind,grav_amount,grav_dir)</b></tt> 
    Sets the gravity properties for the particle type. (Default there is no gravity.)
	You specify the amount of gravity to be added in each step and the direction. E.g.
	use 270 for a downwards direction.<br>
</blockquote>


<!--END-->
</body>
</html>

<!-- KEYWORDS
part_type_create()
part_type_destroy()
part_type_exists()
part_type_clear()
part_type_shape()
part_type_sprite()
part_type_size()
part_type_scale()
part_type_orientation()
part_type_life()
part_type_step()
part_type_death()
part_type_speed()
part_type_direction()
part_type_gravity()
part_type_color1()
part_type_color2()
part_type_color3()
part_type_color_mix()
part_type_color_rgb()
part_type_color_hsv()
part_type_alpha1()
part_type_alpha2()
part_type_alpha3()
part_type_blend()
pt_shape_pixel
pt_shape_disk
pt_shape_square
pt_shape_line
pt_shape_star
pt_shape_circle
pt_shape_ring
pt_shape_sphere
pt_shape_flare
pt_shape_spark
pt_shape_explosion
pt_shape_cloud
pt_shape_smoke

--> 
